AWSTemplateFormatVersion : '2010-09-09'
Transform: AWS::Serverless-2016-10-31
Description: Pet Clinic
Resources:
  GetPetFunction:
    Type: AWS::Serverless::Function
    Properties:
      Handler: dynamo_pet_query_all.handler
      Runtime: nodejs6.10
      Policies: AmazonDynamoDBFullAccess
      Events:
        Inventory:
          Type: Api
          Properties:
            Path: /pets
            Method: get
  PostPetFunction:
    Type: AWS::Serverless::Function
    Properties:
      Handler: dynamo_pet_create_record.handler
      Runtime: nodejs6.10
      Policies: AmazonDynamoDBFullAccess
      Events:
        Inventory:
          Type: Api
          Properties:
            Path: /pets
            Method: post
  GetPetByIDFunction:
    Type: AWS::Serverless::Function
    Properties:
      Handler: dynamo_pet_query_by_id.handler
      Runtime: nodejs6.10
      Policies: AmazonDynamoDBFullAccess
      Events:
        Inventory:
          Type: Api
          Properties:
            Path: /pets/{petId}
            Method: get
  PostPetInfoByIDFunction:
    Type: AWS::Serverless::Function
    Properties:
      Handler: dynamo_pet_update_info.handler
      Runtime: nodejs6.10
      Policies: AmazonDynamoDBFullAccess
      Events:
        Inventory:
          Type: Api
          Properties:
            Path: /pets/info
            Method: post                        
  PostPetStatusByIDFunction:
    Type: AWS::Serverless::Function
    Properties:
      Handler: dynamo_pet_update_status.handler
      Runtime: nodejs6.10
      Policies: AmazonDynamoDBFullAccess
      Events:
        Inventory:
          Type: Api
          Properties:
            Path: /pets/status
            Method: post    
  DeletePetByIDFunction:
    Type: AWS::Serverless::Function
    Properties:
      Handler: dynamo_pet_delete_by_id.handler
      Runtime: nodejs6.10
      Policies: AmazonDynamoDBFullAccess
      Events:
        Inventory:
          Type: Api
          Properties:
            Path: /pets
            Method: delete
  GetPetsByStatusFunction:
    Type: AWS::Serverless::Function
    Properties:
      Handler: dynamo_pet_find_by_status.handler
      Runtime: nodejs6.10
      Policies: AmazonDynamoDBFullAccess
      Events:
        Inventory:
          Type: Api
          Properties:
            Path: /pets/status/{status}
            Method: get  